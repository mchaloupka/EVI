<?xml version="1.0" encoding="utf-8" ?>
<storage>
  <sql>
    <table name="ProductFeature">
      <column name="nr" type="int" primary-key="true" />
      <column name="label" type="nvarchar(max)" />
      <column name="comment" type="nvarchar(max)" />
      <column name="publisher" type="nvarchar(max)" />
      <column name="publishDate" type="datetime" />
    </table>
    <table name="ProductType">
      <column name="nr" type="int" primary-key="true" />
      <column name="label" type="nvarchar(max)" />
      <column name="comment" type="nvarchar(max)" />
      <column name="parent" type="int" nullable="true" />
      <column name="publisher" type="nvarchar(max)" />
      <column name="publishDate" type="datetime" />
    </table>
    <table name="Producer">
      <column name="nr" type="int" primary-key="true" />
      <column name="label" type="nvarchar(max)" />
      <column name="comment" type="nvarchar(max)" />
      <column name="homepage" type="nvarchar(max)" />
      <column name="country" type="nvarchar(max)" />
      <column name="publisher" type="nvarchar(max)" />
      <column name="publishDate" type="datetime" />
    </table>
    <table name="Product">
      <column name="nr" type="int" primary-key="true" />
      <column name="label" type="nvarchar(max)" />
      <column name="comment" type="nvarchar(max)" />
      <column name="producer" type="int" />
      <column name="propertyNum1" type="int" nullable="true"/>
      <column name="propertyNum2" type="int" nullable="true"/>
      <column name="propertyNum3" type="int" nullable="true"/>
      <column name="propertyNum4" type="int" nullable="true"/>
      <column name="propertyNum5" type="int" nullable="true"/>
      <column name="propertyNum6" type="int" nullable="true"/>
      <column name="propertyTex1" type="nvarchar(max)" nullable="true"/>
      <column name="propertyTex2" type="nvarchar(max)" nullable="true"/>
      <column name="propertyTex3" type="nvarchar(max)" nullable="true"/>
      <column name="propertyTex4" type="nvarchar(max)" nullable="true"/>
      <column name="propertyTex5" type="nvarchar(max)" nullable="true"/>
      <column name="propertyTex6" type="nvarchar(max)" nullable="true"/>
      <column name="publisher" type="nvarchar(max)" />
      <column name="publishDate" type="datetime" />
    </table>
    <table name="ProductTypeProduct">
      <column name="product" type="int" primary-key="true" />
      <column name="productType" type="int" primary-key="true" />
    </table>
    <table name="ProductFeatureProduct">
      <column name="product" type="int" primary-key="true" />
      <column name="productFeature" type="int" primary-key="true" />
    </table>
    <table name="Vendor">
      <column name="nr" type="int" primary-key="true" />
      <column name="label" type="nvarchar(max)" />
      <column name="comment" type="nvarchar(max)" />
      <column name="homepage" type="nvarchar(max)" />
      <column name="country" type="nvarchar(max)" />
      <column name="publisher" type="nvarchar(max)" />
      <column name="publishDate" type="datetime" />
    </table>
    <table name="Offer">
      <column name="nr" type="int" primary-key="true" />
      <column name="product" type="int" />
      <column name="producer" type="int" />
      <column name="vendor" type="int" />
      <column name="price" type="int" />
      <column name="validFrom" type="datetime" />
      <column name="validTo" type="datetime" />
      <column name="deliveryDays" type="int" />
      <column name="offerWebpage" type="nvarchar(max)" />
      <column name="publisher" type="nvarchar(max)" />
      <column name="publishDate" type="datetime" />
    </table>
    <table name="Person">
      <column name="nr" type="int" primary-key="true" />
      <column name="name" type="nvarchar(max)" />
      <column name="mbox_sha1sum" type="nvarchar(max)" />
      <column name="country" type="nvarchar(max)" />
      <column name="publisher" type="nvarchar(max)" />
      <column name="publishDate" type="datetime" />
    </table>
    <table name="Review">
      <column name="nr" type="int" primary-key="true" />
      <column name="product" type="int" />
      <column name="producer" type="int" />
      <column name="person" type="int" />
      <column name="reviewDate" type="datetime" />
      <column name="title" type="nvarchar(max)" />
      <column name="text" type="nvarchar(max)" />
      <column name="language" type="nvarchar(max)" />
      <column name="rating1" type="nvarchar(max)" />
      <column name="rating2" type="nvarchar(max)" />
      <column name="rating3" type="nvarchar(max)" />
      <column name="rating4" type="nvarchar(max)" />
      <column name="publisher" type="nvarchar(max)" />
      <column name="publishDate" type="datetime" />
    </table>
  </sql>
  <mapping>
<![CDATA[
    @base <http://example.com/base/> .
    @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
    @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
    @prefix foaf: <http://xmlns.com/foaf/0.1/> .
    @prefix dc: <http://purl.org/dc/elements/1.1/> .
    @prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
    @prefix rev: <http://purl.org/stuff/rev#> .
    @prefix bsbm: <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/> .
    @prefix bsbm-inst: <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/> .
    
  <#ProductFeature> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "ProductFeature" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/ProductFeature{nr}";
      rr:class bsbm:ProductFeature;
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:label;
      rr:objectMap [ rr:column "label"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:comment;
      rr:objectMap [ rr:column "comment"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:publisher;
      rr:objectMap [ 
        rr:column "publisher";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:date;
      rr:objectMap [ rr:column "publishDate"; ];
    ];
  .

  <#ProductType> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "ProductType" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/ProductType{nr}";
      rr:class bsbm:ProductType;
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:label;
      rr:objectMap [ rr:column "label"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:comment;
      rr:objectMap [ rr:column "comment"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:subClassOf;
      rr:refObjectMap [
        rr:parentTriplesMap <#ProductType>;
        rr:joinCondition [
          rr:child "parent";
          rr:parent "nr";
        ];
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:publisher;
      rr:objectMap [ 
        rr:column "publisher";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:date;
      rr:objectMap [ rr:column "publishDate"; ];
    ];
  .

  <#Producer> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "Producer" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/Producer{nr}";
      rr:class bsbm:Producer;
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:label;
      rr:objectMap [ rr:column "label"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:comment;
      rr:objectMap [ rr:column "comment"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate foaf:homepage;
      rr:objectMap [ 
        rr:column "homepage"; 
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:country;
      rr:objectMap [ 
        rr:template "http://downlode.org/rdf/iso-3166/countries#{country}";
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:publisher;
      rr:objectMap [ 
        rr:column "publisher";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:date;
      rr:objectMap [ rr:column "publishDate"; ];
    ];
  .

  <#Product> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "Product" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/Product{nr}";
      rr:class bsbm:Product;
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:label;
      rr:objectMap [ rr:column "label"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:comment;
      rr:objectMap [ rr:column "comment"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:producer;
      rr:refObjectMap [
        rr:parentTriplesMap <#Producer>;
        rr:joinCondition [
          rr:child "producer";
          rr:parent "nr";
        ];
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual1;
      rr:objectMap [ rr:column "propertyNum1"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual2;
      rr:objectMap [ rr:column "propertyNum2"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual3;
      rr:objectMap [ rr:column "propertyNum3"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual4;
      rr:objectMap [ rr:column "propertyNum4"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual5;
      rr:objectMap [ rr:column "propertyNum5"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual6;
      rr:objectMap [ rr:column "propertyNum6"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual1;
      rr:objectMap [ rr:column "propertyTex1"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual2;
      rr:objectMap [ rr:column "propertyTex2"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual3;
      rr:objectMap [ rr:column "propertyTex3"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual4;
      rr:objectMap [ rr:column "propertyTex4"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual5;
      rr:objectMap [ rr:column "propertyTex5"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:productPropertyTextual6;
      rr:objectMap [ rr:column "propertyTex6"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:publisher;
      rr:objectMap [ 
        rr:column "publisher";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:date;
      rr:objectMap [ rr:column "publishDate"; ];
    ];
  .
  
  <#ProductTypeProduct> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "ProductTypeProduct" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/Producer{product}";
    ];
    rr:predicateObjectMap [
      rr:predicate rdf:type;
      rr:refObjectMap [
        rr:parentTriplesMap <#ProductType>;
        rr:joinCondition [
          rr:child "productType";
          rr:parent "nr";
        ];
      ];
    ];
  .
  
  <#ProductFeatureProduct> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "ProductFeatureProduct" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/Producer{product}";
    ];
    rr:predicateObjectMap [
      rr:predicate rdf:type;
      rr:refObjectMap [
        rr:parentTriplesMap <#ProductFeature>;
        rr:joinCondition [
          rr:child "productFeature";
          rr:parent "nr";
        ];
      ];
    ];
  .
  
  <#Vendor> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "Vendor" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/Vendor{nr}";
      rr:class bsbm:Vendor;
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:label;
      rr:objectMap [ rr:column "label"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:comment;
      rr:objectMap [ rr:column "comment"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:homepage;
      rr:objectMap [ 
        rr:column "homepage";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:country;
      rr:objectMap [ 
        rr:template "http://downlode.org/rdf/iso-3166/countries#{country}";
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:publisher;
      rr:objectMap [ 
        rr:column "publisher";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:date;
      rr:objectMap [ rr:column "publishDate"; ];
    ];
  .
  
  <#Offer> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "Offer" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/Offer{nr}";
      rr:class bsbm:Offer;
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:product;
      rr:refObjectMap [
        rr:parentTriplesMap <#Product>;
        rr:joinCondition [
          rr:child "product";
          rr:parent "nr";
        ];
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:producer;
      rr:refObjectMap [
        rr:parentTriplesMap <#Producer>;
        rr:joinCondition [
          rr:child "producer";
          rr:parent "nr";
        ];
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:vendor;
      rr:refObjectMap [
        rr:parentTriplesMap <#Vendor>;
        rr:joinCondition [
          rr:child "vendor";
          rr:parent "nr";
        ];
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:price;
      rr:objectMap [ rr:column "price"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:validFrom;
      rr:objectMap [ rr:column "validFrom"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:validTo;
      rr:objectMap [ rr:column "validTo"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:deliveryDays;
      rr:objectMap [ rr:column "deliveryDays"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:offerWebpage;
      rr:objectMap [ 
        rr:column "offerWebpage";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:publisher;
      rr:objectMap [ 
        rr:column "publisher";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:date;
      rr:objectMap [ rr:column "publishDate"; ];
    ];
  .

  <#Person> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "Person" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/Reviewer{nr}";
      rr:class bsbm:Person;
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:name;
      rr:objectMap [ rr:column "name"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:mbox_sha1sum;
      rr:objectMap [ rr:column "mbox_sha1sum"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:validTo;
      rr:objectMap [ rr:column "validTo"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:country;
      rr:objectMap [ 
        rr:template "http://downlode.org/rdf/iso-3166/countries#{country}";
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:publisher;
      rr:objectMap [ 
        rr:column "publisher";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:date;
      rr:objectMap [ rr:column "publishDate"; ];
    ];
  .
  
  <#Review> a rr:TriplesMap;
    rr:logicalTable [ rr:tableName "Review" ];
    rr:subjectMap [
      rr:template "http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/instances/Review{nr}";
      rr:class bsbm:Review;
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:product;
      rr:refObjectMap [
        rr:parentTriplesMap <#Product>;
        rr:joinCondition [
          rr:child "product";
          rr:parent "nr";
        ];
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:producer;
      rr:refObjectMap [
        rr:parentTriplesMap <#Producer>;
        rr:joinCondition [
          rr:child "producer";
          rr:parent "nr";
        ];
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:reviewer;
      rr:refObjectMap [
        rr:parentTriplesMap <#Person>;
        rr:joinCondition [
          rr:child "person";
          rr:parent "nr";
        ];
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:reviewDate;
      rr:objectMap [ rr:column "reviewDate"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:title;
      rr:objectMap [ rr:column "title"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:text;
      rr:objectMap [ rr:column "text"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:rating1;
      rr:objectMap [ rr:column "rating1"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:rating2;
      rr:objectMap [ rr:column "rating2"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:rating3;
      rr:objectMap [ rr:column "rating3"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate bsbm:rating4;
      rr:objectMap [ rr:column "rating4"; ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:publisher;
      rr:objectMap [ 
        rr:column "publisher";
        rr:termType rr:IRI;
      ];
    ];
    rr:predicateObjectMap [
      rr:predicate dc:date;
      rr:objectMap [ rr:column "publishDate"; ];
    ];
  .
]]>
  </mapping>
</storage>